(("undefined"!=typeof self?self:this).webpackJsonp_thunderbolt_elements=("undefined"!=typeof self?self:this).webpackJsonp_thunderbolt_elements||[]).push([[172],{1191:function(e,t,n){e.exports=n.p+"b4f9c49a00780b3a8097e7114b529be7.html"},1192:function(e,t,n){e.exports=n.p+"google-map.min.js"},572:function(e,t,n){"use strict";n.r(t);var r=n(179),a=n(659),o=n.n(a),u=n(4),i=n(673),c=n(798);function l(){var e=r.useRef([]);return[r.useCallback((function(){return new Promise((function(t){return e.current.push(t)}))}),[]),r.useCallback((function(t){e.current.forEach((function(e){return e(t)})),e.current.length=0}),[])]}var s=function(e,t){if(e||t)return t?{path:e,fillColor:t,strokeColor:t,fillOpacity:1,scale:.5}:function(e){if(e&&e.endsWith(".webp"))try{var t=e.match(/media\/[^/]+/)[0].split(".")[1];e=e.replace(/.webp$/,"."+t)}catch(e){}return e}(e)},f="load",d="message",p="SET_INITIAL_LOCATIONS",g="SET_CENTER",v="CENTER_UPDATED",m="SET_CENTER_FINISHED",b="SET_ZOOM",_="ZOOM_UPDATED",E="SET_ZOOM_FINISHED",O="MARKER_CLICKED",M="MAP_CLICKED",h="GET_MARKERS",C="MARKERS";function j(e,t,n){var a,o,j=n.onUpdateZoom,y=n.onUpdateCenter,k=n.onMarkerClicked,S=n.onMapClicked,w=l(),L=w[0],N=w[1],R=l(),T=R[0],I=R[1],A=l(),D=A[0],G=A[1],U=Object(r.useState)(!1),Z=U[0],F=U[1],K=Object(r.useMemo)((function(){return function(e){return Object(u.__assign)(Object(u.__assign)({},e),{locations:e.locations.map((function(e){return Object(u.__assign)(Object(u.__assign)({},e),{icon:s(e.pinIcon,e.pinColor)})}))})}(t)}),[t]),x=Object(c.a)(Z?K:null),J=((a={})[m]=function(){return N()},a[v]=function(e){return null==y?void 0:y(e)},a[E]=function(){return I()},a[_]=function(e){return null==j?void 0:j({zoom:e})},a[O]=function(e){return null==k?void 0:k(Object(u.__assign)({type:"markerClicked"},e))},a[M]=function(e){var t=e.longitude,n=e.latitude,r=Object(u.__rest)(e,["longitude","latitude"]);return null==S?void 0:S(Object(u.__assign)({type:"mapClicked",location:{longitude:t,latitude:n}},r))},a[C]=function(e){return G(e)},a),P=((o={})[f]=function(e){(0,e._sendMessage)({type:p,data:JSON.stringify(K)}),F(!0)},o[d]=function(e){var t,n=e.event;if("string"==typeof n.payload){var r=JSON.parse(n.payload),a=r.type,o=r.data;null===(t=J[a])||void 0===t||t.call(J,o)}},o),H=Object(i.a)({reducer:function(e,t){var n;return null===(n=P[e.type])||void 0===n?void 0:n.call(P,{event:e,_sendMessage:t})}}),W=H[0],B=H[1];return Object(r.useImperativeHandle)(e,(function(){return{setMapCenter:function(e,t){var n=L();return B({type:g,data:JSON.stringify({longitude:e,latitude:t})}),n},setMapZoom:function(e){var t=T();return B({type:b,data:e}),t},getVisibleMarkers:function(){var e=D();return B({type:h}),e}}})),Object(r.useEffect)((function(){if(Z){var e=!!x&&(t=K.locations,n=x.locations,t.length===n.length&&t.every((function(e,t){var r=Object.keys(e);return r.length===Object.keys(n[t]).length&&r.every((function(r){return e[r]===n[t][r]}))})));B(JSON.stringify(Object(u.__assign)(Object(u.__assign)({},K),{shouldKeepMarkers:e})))}var t,n}),[K,x,B,Z]),[W]}var y=n(946),k=n.n(y),S={GoogleMapLiftedShadow:function(){return r.createElement(r.Fragment,null,r.createElement("div",{className:o()(k.a.left,k.a.shd)}),r.createElement("div",{className:o()(k.a.right,k.a.shd)}))},GoogleMapSloppy:function(){return r.createElement(r.Fragment,null,r.createElement("div",{className:o()(k.a.brd,k.a.one)}),r.createElement("div",{className:o()(k.a.brd,k.a.two)}))},GoogleMapSkin:function(){return r.createElement(r.Fragment,null)},GoogleMapDefault:function(){return r.createElement(r.Fragment,null)}},w=n(1191),L=n.n(w),N=n(1192),R=n.n(N);t.default=r.forwardRef((function(e,t){var n=e.id,a=e.skin,u=e.urlQueries,i=e.mapData,c=e.translate,l=e.onUpdateCenter,s=e.onUpdateZoom,f=e.onMarkerClicked,d=e.onMapClicked,p=e.onMouseEnter,g=e.onMouseLeave,v=S[a],m=L.a+"?"+u+"&"+new URLSearchParams({googleMapsScriptUrl:R.a}),b=r.useState(!1),_=b[0],E=b[1],O=j(t,i,{onUpdateCenter:l,onUpdateZoom:s,onMarkerClicked:f,onMapClicked:d})[0];r.useEffect((function(){E(!0)}),[m]);var M=c("component_label","COMPONENT_LABEL_googleMapsTitle","Google Map");return r.createElement("div",{id:n,tabIndex:0,className:o()(k.a[a],k.a.wixIframe)},_&&r.createElement("wix-iframe",{title:M,"aria-label":M,"data-src":m},r.createElement(v,null),r.createElement("div",{id:"mapContainer_"+n,onMouseEnter:p,onMouseLeave:g,className:k.a.mapContainer},r.createElement("iframe",{ref:O,title:M,"aria-label":M,"data-src":m,width:"100%",height:"100%",frameBorder:"0",scrolling:"no",allowFullScreen:!0}))))}))},673:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(179),a=n(660);function o(e){var t=e.reducer,n=void 0===t?function(){return{}}:t,o=e.iframeLoaded,u=Object(r.useRef)([]),i=Object(r.useRef)(void 0),c=Object(r.useRef)(void 0),l=Object(r.useRef)(void 0),s=Object(r.useCallback)((function(e){if(i.current&&o){var t=i.current.contentWindow;null==t||t.postMessage(e,"*")}else if(i.current&&c.current){var n=i.current.contentWindow;null==n||n.postMessage(e,"*")}else u.current.push(e)}),[o]),f=Object(r.useCallback)((function(){0!==u.current.length&&(u.current.forEach(s),u.current=[])}),[s]),d=Object(r.useCallback)((function(e){if(l.current&&(l.current(),l.current=void 0),e){var t=function(){c.current=!0,f(),n({type:"load"},s)};e.addEventListener("load",t),i.current=e,l.current=function(){e.removeEventListener("load",t)}}}),[n,s,f]);return Object(r.useEffect)((function(){o&&f()}),[o,f]),Object(r.useEffect)((function(){if(Object(a.b)()){var e=function(e){var t;e.source&&e.source!==(null===(t=i.current)||void 0===t?void 0:t.contentWindow)||n({type:"message",payload:e.data},s)};return window.addEventListener("message",e),function(){window.removeEventListener("message",e)}}}),[n,s]),[d,s]}},798:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(179);function a(e,t){void 0===t&&(t=null);var n=Object(r.useRef)(t);return Object(r.useEffect)((function(){n.current=e}),[e]),n.current}},946:function(e,t,n){e.exports={GoogleMapSkin:"_1LodC",googleMapSkin:"_1LodC",mapContainer:"_3HA2p",GoogleMapDefault:"_2C90e",googleMapDefault:"_2C90e",GoogleMapSloppy:"_2thyl",googleMapSloppy:"_2thyl",brd:"_5hmKa",one:"_3amD6",two:"_3pVOf",GoogleMapLiftedShadow:"ugbAt",googleMapLiftedShadow:"ugbAt",shd:"_2LZih",left:"_2nA3_",right:"_29t6M"}}}]);
//# sourceMappingURL=https://static.parastorage.com/services/editor-elements/dist/GoogleMap.d366977c.chunk.min.js.map